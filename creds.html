<!DOCTYPE html>
<html>
  <head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-60508041-1"></script>

    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-60508041-1');
    </script>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=775" />
    <title>Concourse CI - Credential Management</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/pipeline.css" />
    <link rel="stylesheet" type="text/css" href="css/iosevka.css" />
    <link rel="stylesheet" type="text/css" href="css/booklit.css" />
    <link rel="stylesheet" type="text/css" href="css/survey.css" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <link href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700|Roboto+Slab:300,400,700" rel="stylesheet" />
    <script src="js/search.js"></script>
  </head>
  <body>
    <div id="top">
      <div class="header">
        <h1><a href="/" class="logo"></a><a href="/">Concourse</a></h1>

        <nav>
          <a href="tutorials.html">tutorial</a>
          <a href="reference.html">reference</a>
          <a href="https://discuss.concourse-ci.org">discuss</a>
          <a href="download.html">download</a>

          <div class="search" id="search"  onclick="gtag('event', 'search-click');">
            <input type="search" class="search-input" placeholder="Search the docs&hellip;" required="required" />
          </div>
        </nav>

        <script type="text/javascript">
          Elm.Main.embed(document.getElementById("search"));
        </script>
      </div>
    </div>
    <div id="content">
      <div class="side">
        




  
  
  
  
  
  
  

  
  <div class="context">
    <nav>
      <div class="top">
        
  <a href="index.html" >Docs</a>

      </div>

      <input type="checkbox" class="toggle"  />
      <span class="arrow"></span>
      <div class="children">
        <table>
        
          <tr>
            
              <td class="number-cell" align="right">1&nbsp;</td>
            
            <td class="title-cell">
  <a href="about.html" >About</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">2&nbsp;</td>
            
            <td class="title-cell">
  <a href="setup-and-operations.html" >Setup &amp; Operations</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">3&nbsp;</td>
            
            <td class="title-cell">
  <a href="concepts.html" >Concepts</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">4&nbsp;</td>
            
            <td class="title-cell">
  <a href="tutorials.html" >Tutorials</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">5&nbsp;</td>
            
            <td class="title-cell">
  <a href="reference.html" >Reference</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">6&nbsp;</td>
            
            <td class="title-cell">
  <a href="contribute.html" >Contribute</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">7&nbsp;</td>
            
            <td class="title-cell">
  <a href="community.html" >Community</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">8&nbsp;</td>
            
            <td class="title-cell">
  <a href="trademarks.html" >Trademarks</a>
</td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        
  <a href="setup-and-operations.html" >Setup &amp; Operations</a>

      </div>

      <input type="checkbox" class="toggle"  />
      <span class="arrow"></span>
      <div class="children">
        <table>
        
          <tr>
            
              <td class="number-cell" align="right">2.1&nbsp;</td>
            
            <td class="title-cell">
  <a href="download.html" >Download</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">2.2&nbsp;</td>
            
            <td class="title-cell">
  <a href="install.html" >Install</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">2.3&nbsp;</td>
            
            <td class="title-cell">
  <a href="getting-started.html" >Getting Started</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">2.4&nbsp;</td>
            
            <td class="title-cell">
  <a href="operation.html" >Operation</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">2.5&nbsp;</td>
            
            <td class="title-cell">
  <a href="teams.html" >Teams</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="right">2.6&nbsp;</td>
            
            <td class="title-cell">
  <a href="administration.html" >Administration</a>
</td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        
  <a href="operation.html" >Operation</a>

      </div>

      <input type="checkbox" class="toggle" checked />
      <span class="arrow"></span>
      <div class="children">
        <table>
        
          <tr>
            
              <td class="number-cell" align="left"></td>
            
            <td class="title-cell">
  <a href="topology.html" >Deployment Topology</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="left"></td>
            
            <td class="title-cell">
  <a href="encryption.html" >Encryption</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="left"></td>
            
            <td class="title-cell">
  <a href="creds.html"  class="self">Credential Management</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="left"></td>
            
            <td class="title-cell">
  <a href="metrics.html" >Metrics</a>
</td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        
  <a href="creds.html"  class="self">Credential Management</a>

      </div>

      <input type="checkbox" class="toggle" checked />
      <span class="arrow"></span>
      <div class="children">
        <table>
        
          <tr>
            
              <td class="number-cell" align="left"></td>
            
            <td class="title-cell">
  <a href="creds.html#what-can-be-parameterized" >What can be parameterized?</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="left"></td>
            
            <td class="title-cell">
  <a href="creds.html#vault" >Using Vault</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="left"></td>
            
            <td class="title-cell">
  <a href="creds.html#credhub" >Using Credhub</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="left"></td>
            
            <td class="title-cell">
  <a href="creds.html#ssm" >Using Amazon SSM</a>
</td>
          </tr>
        
          <tr>
            
              <td class="number-cell" align="left"></td>
            
            <td class="title-cell">
  <a href="creds.html#asm" >Using Amazon Secrets Manager</a>
</td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  





<div class="context">
  <div class="top">
    On this page:
  </div>

  <nav>
    <div class="children">
      <table>
        

        
  
    
      
      
  
    
  

    
      
        <tr>
          <td class="number-cell" align="left">2.4.3.2&nbsp;</td>
          <td class="title-cell">
  <a href="creds.html#vault" >Using Vault</a>
</td>
        </tr>
        
      
      
  
    
      
        <tr>
          <td class="number-cell" align="left">2.4.3.2.1&nbsp;</td>
          <td class="title-cell">
  <a href="creds.html#configuration" >Configuration</a>
</td>
        </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-url"><code><strong>vault-url</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-path-prefix"><code><strong>vault-path-prefix</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-ca-cert"><code><strong>vault-ca-cert</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-ca-path"><code><strong>vault-ca-path</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-client-cert"><code><strong>vault-client-cert</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-client-key"><code><strong>vault-client-key</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-server-name"><code><strong>vault-server-name</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-insecure-skip-verify"><code><strong>vault-insecure-skip-verify</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-client-token"><code><strong>vault-client-token</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-auth-backend"><code><strong>vault-auth-backend</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-auth-backend-max-ttl"><code><strong>vault-auth-backend-max-ttl</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-cache"><code><strong>vault-cache</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-max-lease"><code><strong>vault-max-lease</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#vault-auth-param=NAME=VALUE"><code><strong>vault-auth-param=NAME=VALUE</strong></code></a></td>
          </tr>
        
      
      
  
    
  

    
      
      
  
    
      
      
  
    
  

    
  

    
  

    
      
      
  
    
      
      
  
    
  

    
      
      
  
    
  

    
  

    
      
        <tr>
          <td class="number-cell" align="left">2.4.3.4&nbsp;</td>
          <td class="title-cell">
  <a href="creds.html#ssm" >Using Amazon SSM</a>
</td>
        </tr>
        
      
      
  
    
      
        <tr>
          <td class="number-cell" align="left">2.4.3.4.1&nbsp;</td>
          <td class="title-cell">
  <a href="creds.html#configuration" >Configuration</a>
</td>
        </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-ssm-access-key"><code><strong>aws-ssm-access-key</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-ssm-secret-key"><code><strong>aws-ssm-secret-key</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-ssm-session-token"><code><strong>aws-ssm-session-token</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-ssm-region"><code><strong>aws-ssm-region</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-ssm-pipeline-secret-template"><code><strong>aws-ssm-pipeline-secret-template</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-ssm-team-secret-template"><code><strong>aws-ssm-team-secret-template</strong></code></a></td>
          </tr>
        
      
      
  
    
  

    
      
      
  
    
  

    
      
      
  
    
  

    
  

    
      
        <tr>
          <td class="number-cell" align="left">2.4.3.5&nbsp;</td>
          <td class="title-cell">
  <a href="creds.html#asm" >Using Amazon Secrets Manager</a>
</td>
        </tr>
        
      
      
  
    
      
        <tr>
          <td class="number-cell" align="left">2.4.3.5.1&nbsp;</td>
          <td class="title-cell">
  <a href="creds.html#configuration" >Configuration</a>
</td>
        </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-secretsmanager-access-key"><code><strong>aws-secretsmanager-access-key</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-secretsmanager-secret-key"><code><strong>aws-secretsmanager-secret-key</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-secretsmanager-session-token"><code><strong>aws-secretsmanager-session-token</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-secretsmanager-region"><code><strong>aws-secretsmanager-region</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-secretsmanager-pipeline-secret-template"><code><strong>aws-secretsmanager-pipeline-secret-template</strong></code></a></td>
          </tr>
        
          <tr>
            <td class="number-cell"></td>
            <td class="title-cell"><a href="creds.html#aws-secretsmanager-team-secret-template"><code><strong>aws-secretsmanager-team-secret-template</strong></code></a></td>
          </tr>
        
      
      
  
    
  

    
      
      
  
    
  

    
      
      
  
    
  

    
  

    
  

      </table>
    </div>
  </nav>
</div>


<ul class="improve-docs">
  <li><img src="images/github.svg" /> <a href="https://github.com/concourse/docs">help improve this site</a></li>

  <li><img src="images/booklit.svg" /> powered by <a href="https://vito.github.io/booklit">Booklit</a></li>
</ul>
      </div>
      <div class="page">
        <div class="section" id="section_creds">
  
  <h1 class="section-header"><a name="creds"></a>Credential Management</h1>
  

  <p>Going beyond <a href="encryption.html">Encryption</a>, explicit credential management will provide credentials to your builds for a brief amount of time, without being persisted anywhere. It also allows for credentials to be rotated and managed external to the pipeline or team, and prevents them from being revealed by <a href="managing-pipelines.html#fly-get-pipeline"><code>fly get-pipeline</code></a>.</p><p>Currently, the only supported credential managers are <a href="https://vaultproject.io">Vault</a>, <a href="https://github.com/cloudfoundry-incubator/credhub">Credhub</a>, <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-paramstore.html">Amazon SSM</a>, and <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/intro.html">Amazon Secrets Manager</a>.</p><p>Credential management works by replacing the credentials with <a href="setting-pipelines.html#pipeline-params"><code>((params))</code></a> in your pipeline or task config. When the ATC is about to run the step or <code>check</code> that is configured with the parameters, it will resolve them by fetching the values from the credential manager. If the values are not present, the action will error.</p>

  
    
      <div class="section" id="section_what-can-be-parameterized">
  
  <h2 class="section-header"><a name="what-can-be-parameterized"></a>What can be parameterized?</h2>
  

  <p>The following configurations can be parameterized with a credential manager:</p><ul>

  <li><p><a href="resources.html#resource-source"><code><strong>source</strong></code></a> under <a href="resources.html">Resources</a> in a pipeline</p></li>

  <li><p><a href="resource-types.html#resource-type-source"><code><strong>source</strong></code></a> under <a href="resource-types.html">Resource Types</a> in a pipeline</p></li>

  <li><p><a href="resources.html#resource-webhook-token"><code><strong>webhook_token</strong></code></a> under <a href="resources.html">Resources</a> in a pipeline</p></li>

  <li><p><a href="tasks.html#image-resource-source"><code><strong>image_resource.source</strong></code></a> under <a href="tasks.html#image_resource"><code><strong>image_resource</strong></code></a> in a task config</p></li>

  <li><p><a href="task-step.html#task-step-params"><code><strong>params</strong></code></a> in a pipeline</p></li>

  <li><p><a href="tasks.html#task-params"><code><strong>params</strong></code></a> in a task config</p></li>

</ul><p>Where these values are looked up and how the credential manager is configured depends on the backend. Consult the relevant section below for whichever backend you want to use.</p>

  
    
  
</div>
    
      <div class="section" id="section_vault">
  
  <h2 class="section-header"><a name="vault"></a>Using Vault</h2>
  

  

  
    
      <div class="section" id="section_configuration">
  
  <h3 class="section-header"><a name="configuration"></a>Configuration</h3>
  

  <p>The ATC is statically configured with a Vault server URL (plus any TLS config), and either a client token or an auth backend.</p><p>The ATC&#39;s configuration specifies the following:</p><div class="definition">
  <div class="definition-thumb">
    <a name="vault-url"></a>
    <pre><a href="creds.html#vault-url"><strong>vault-url</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Vault server address used to access secrets.</p><p>Environment variable <code>CONCOURSE_VAULT_URL</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-path-prefix"></a>
    <pre><a href="creds.html#vault-path-prefix"><strong>vault-path-prefix</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Path under which to namespace credential lookup.</p><p>Environment variable <code>CONCOURSE_VAULT_PATH_PREFIX</code>.</p><p>Default: <code>/concourse</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-ca-cert"></a>
    <pre><a href="creds.html#vault-ca-cert"><strong>vault-ca-cert</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Path to a PEM-encoded CA cert file to use to verify the vault server SSL cert.</p><p>Environment variable <code>CONCOURSE_VAULT_CA_CERT</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-ca-path"></a>
    <pre><a href="creds.html#vault-ca-path"><strong>vault-ca-path</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Path to a directory of PEM-encoded CA cert files to verify the vault server SSL cert.</p><p>Environment variable <code>CONCOURSE_VAULT_CA_PATH</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-client-cert"></a>
    <pre><a href="creds.html#vault-client-cert"><strong>vault-client-cert</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Path to the client certificate for Vault authorization.</p><p>Environment variable <code>CONCOURSE_VAULT_CLIENT_CERT</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-client-key"></a>
    <pre><a href="creds.html#vault-client-key"><strong>vault-client-key</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Path to the client private key for Vault authorization.</p><p>Environment variable <code>CONCOURSE_VAULT_CLIENT_KEY</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-server-name"></a>
    <pre><a href="creds.html#vault-server-name"><strong>vault-server-name</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>If set, is used to set the SNI host when connecting via TLS.</p><p>Environment variable <code>CONCOURSE_VAULT_SERVER_NAME</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-insecure-skip-verify"></a>
    <pre><a href="creds.html#vault-insecure-skip-verify"><strong>vault-insecure-skip-verify</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Enable insecure SSL verification.</p><p>Environment variable <code>CONCOURSE_VAULT_INSECURE_SKIP_VERIFY</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-client-token"></a>
    <pre><a href="creds.html#vault-client-token"><strong>vault-client-token</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Client token for accessing secrets within the Vault server.</p><p>Environment variable <code>CONCOURSE_VAULT_CLIENT_TOKEN</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-auth-backend"></a>
    <pre><a href="creds.html#vault-auth-backend"><strong>vault-auth-backend</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Auth backend to use for logging in to Vault.</p><p>Environment variable <code>CONCOURSE_VAULT_AUTH_BACKEND</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-auth-backend-max-ttl"></a>
    <pre><a href="creds.html#vault-auth-backend-max-ttl"><strong>vault-auth-backend-max-ttl</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Auth backend max TTL. Concourse will renew its token and then re-login when the auth backend max TTL is reached.</p><p>Environment variable <code>CONCOURSE_VAULT_AUTH_BACKEND_MAX_TTL</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-cache"></a>
    <pre><a href="creds.html#vault-cache"><strong>vault-cache</strong></a>: bool</pre>
  </div>

  <div class="definition-content">
    <p>Cache returned secrets for their lease duration in memory</p><p>Environment variable <code>CONCOURSE_VAULT_CACHE</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-max-lease"></a>
    <pre><a href="creds.html#vault-max-lease"><strong>vault-max-lease</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>If the cache is enabled, and this is set, override secrets lease duration with a maximum value.</p><p>Environment variable <code>CONCOURSE_VAULT_MAX_LEASE</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="vault-auth-param=NAME=VALUE"></a>
    <pre><a href="creds.html#vault-auth-param=NAME=VALUE"><strong>vault-auth-param=NAME=VALUE</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>Paramter to pass when logging in via the backend. Can be specified multiple times.</p><p>Environment variable <code>CONCOURSE_VAULT_AUTH_PARAM</code> (pass comma-separated list).</p><p>Example:</p><div class="highlight"><pre style=""><span style="color:#3498db">CONCOURSE_VAULT_AUTH_PARAM</span>=<span style="color:#e67e22">&#34;role_id=x,secret_id=x&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span>concourse web ...
</pre>
</div>
  </div>
</div><p>For example, to point the ATC at an internal Vault server with TLS signed by a local CA, using an <a href="https://www.vaultproject.io/docs/auth/approle.html">AppRole</a> auth backend, you may configure:</p><div class="highlight"><pre style="">concourse web ... <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-url https://10.2.0.3:8200 <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-ca-cert /etc/my-ca.cert <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-auth-backend approle <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-auth-param <span style="color:#3498db">role_id</span>=db02de05-fa39-4855-059b-67221c5c2f63 <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-auth-param <span style="color:#3498db">secret_id</span>=6a174c20-f6de-a53c-74d2-6018fcceff64

<span style="color:#bdc3c7"># or use env variables
</span><span style="color:#bdc3c7"></span><span style="color:#3498db">CONCOURSE_VAULT_URL</span>=<span style="color:#e67e22">&#34;https://10.2.0.3:8200&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span><span style="color:#3498db">CONCOURSE_VAULT_CA_CERT</span>=<span style="color:#e67e22">&#34;/etc/my-ca.cert&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span><span style="color:#3498db">CONCOURSE_VAULT_AUTH_BACKEND</span>=<span style="color:#e67e22">&#34;approle&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span><span style="color:#3498db">CONCOURSE_VAULT_AUTH_PARAM</span>=<span style="color:#e67e22">&#34;role_id=db02de05-fa39-4855-059b-67221c5c2f63,secret_id=6a174c20-f6de-a53c-74d2-6018fcceff64&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span>concourse web ...
</pre>
</div><p>You may instead want to use the <a href="https://www.vaultproject.io/docs/auth/cert.html">TLS</a> auth backend, in which case you would specify a client certificate and private key, like so:</p><div class="highlight"><pre style="">concourse web ... <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-url https://10.2.0.3:8200 <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-ca-cert /etc/my-ca.cert <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-client-cert /etc/my-client.cert <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-client-key /etc/my-client.key <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-auth-backend cert
</pre>
</div><p>In this case no params are necessary, as the TLS auth backend will check the certificate against all roles if no name is specified.</p><p>Alternatively, if you&#39;ve got a <a href="https://www.vaultproject.io/docs/concepts/tokens.html#periodic-tokens">periodic token</a> created, you can pass it directly as <code>--vault-client-token</code>. Make sure the period is long enough to account for any ATC downtime, however, including the time between generating it and getting the ATC running.</p><div class="highlight"><pre style="">concourse web ... <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-url https://10.2.0.3:8200 <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-ca-cert /etc/my-ca.cert <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --vault-client-token c2c2fbd5-2893-b385-6fa5-30050439f698
</pre>
</div><p>For all of these configurations, the ATC will periodically renew its token, ensuring it doesn&#39;t expire.</p>

  
    
  
</div>
    
      <div class="section" id="section_credential-lookup-rules">
  
  <h3 class="section-header"><a name="credential-lookup-rules"></a>Credential Lookup Rules</h3>
  

  <p>When resolving a parameter such as <code>((foo_param))</code>, it will look in the following paths, in order:</p><ul>

  <li><pre><p>/concourse/TEAM_NAME/PIPELINE_NAME/foo_param</p></pre></li>

  <li><pre><p>/concourse/TEAM_NAME/foo_param</p></pre></li>

</ul><p>The leading <code>/concourse</code> can be changed by specifying <code>--vault-path-prefix</code>.</p><p>Vault credentials are actually key-value, so for <code>((foo))</code> Concourse will default to the field name <code>value</code>. You can specify the field to grab via <code>.</code> syntax, e.g. <code>((foo.bar))</code>.</p><p>If the action is being run in the context of a pipeline (e.g. a <code>check</code> or a step in a build of a job), the ATC will first look in the pipeline path. If it&#39;s not found there, it will look in the team path. This allows credentials to be scoped widely if they&#39;re common across many pipelines.</p><p>If an action is being run in a one-off build, the ATC will only look in the team path.</p>

  
    
      <div class="section" id="section_caveat-multiple-fields-of-a-rotating-key">
  
  <h4 class="section-header"><a name="caveat-multiple-fields-of-a-rotating-key"></a>Caveat: multiple fields of a rotating key</h4>
  

  <p>When a key has multiple fields and is re-generated on every fetch, for example when using the <a href="https://www.vaultproject.io/docs/secrets/aws/index.html">AWS secret backend</a>, the ATC will currently fetch the credential once for each parameter, resulting in fields that don&#39;t match each other. This will be fixed in an upcoming release of Concourse.</p>

  
    
  
</div>
    
  
</div>
    
  
</div>
    
      <div class="section" id="section_credhub">
  
  <h2 class="section-header"><a name="credhub"></a>Using Credhub</h2>
  

  

  
    
      <div class="section" id="section_configuration">
  
  <h3 class="section-header"><a name="configuration"></a>Configuration</h3>
  

  <p>The ATC is statically configured with a Credhub server URL with TLS and client config.</p><p>For example, to point the ATC at an internal Credhub server with TLS signed by a local CA, using client id and secret, you may configure:</p><div class="highlight"><pre style="">concourse web ... <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --credhub-url https://10.2.0.3:9000 <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --credhub-ca-cert /etc/my-ca.cert <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --credhub-client-id =db02de05-fa39-4855-059b-67221c5c2f63 <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --credhub-client-secret 6a174c20-f6de-a53c-74d2-6018fcceff64
</pre>
</div>

  
    
  
</div>
    
      <div class="section" id="section_credential-lookup-rules">
  
  <h3 class="section-header"><a name="credential-lookup-rules"></a>Credential Lookup Rules</h3>
  

  <p>When resolving a parameter such as <code>((foo_param))</code>, it will look in the following paths, in order:</p><ul>

  <li><pre><p>/concourse/TEAM_NAME/PIPELINE_NAME/foo_param</p></pre></li>

  <li><pre><p>/concourse/TEAM_NAME/foo_param</p></pre></li>

</ul><p>The leading <code>/concourse</code> can be changed by specifying <code>--credhub-path-prefix</code>.</p><p>Credhub credentials actually have different types, which may contain multiple values. For example, the <code>user</code> type specifies both <code>username</code> and <code>password</code>. You can specified the field to grab via <code>.</code> syntax, e.g. <code>((foo_param.username))</code>.</p><p>If the action is being run in the context of a pipeline (e.g. a <code>check</code> or a step in a build of a job), the ATC will first look in the pipeline path. If it&#39;s not found there, it will look in the team path. This allows credentials to be scoped widely if they&#39;re common across many pipelines.</p><p>If an action is being run in a one-off build, the ATC will only look in the team path.</p>

  
    
  
</div>
    
  
</div>
    
      <div class="section" id="section_ssm">
  
  <h2 class="section-header"><a name="ssm"></a>Using Amazon SSM</h2>
  

  

  
    
      <div class="section" id="section_configuration">
  
  <h3 class="section-header"><a name="configuration"></a>Configuration</h3>
  

  <p>The ATC is configured with an access key and secret key or session token and the AWS region that your parameters are stored within. If no access key, secret key, or session token is provided, Concourse will attempt to use environment variables or the instance credentials assigned to the instance.</p><p>The ATC&#39;s configuration specifies the following:</p><div class="definition">
  <div class="definition-thumb">
    <a name="aws-ssm-access-key"></a>
    <pre><a href="creds.html#aws-ssm-access-key"><strong>aws-ssm-access-key</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>A valid AWS access key.</p><p>Environment variable <code>CONCOURSE_AWS_SSM_ACCESS_KEY</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-ssm-secret-key"></a>
    <pre><a href="creds.html#aws-ssm-secret-key"><strong>aws-ssm-secret-key</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>The secret key that corresponds to the access key defined above.</p><p>Environment variable <code>CONCOURSE_AWS_SSM_SECRET_KEY</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-ssm-session-token"></a>
    <pre><a href="creds.html#aws-ssm-session-token"><strong>aws-ssm-session-token</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>A valid AWS session token.</p><p>Environment variable <code>CONCOURSE_AWS_SSM_SESSION_TOKEN</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-ssm-region"></a>
    <pre><a href="creds.html#aws-ssm-region"><strong>aws-ssm-region</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>The AWS region that requests to parameter store will be sent to.</p><p>Environment variable <code>AWS_REGION</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-ssm-pipeline-secret-template"></a>
    <pre><a href="creds.html#aws-ssm-pipeline-secret-template"><strong>aws-ssm-pipeline-secret-template</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>The base path used when attempting to locate a pipeline-level secret.</p><p>Environment variable <code>CONCOURSE_AWS_SSM_PIPELINE_SECRET_TEMPLATE</code>.</p><p>Example:</p><p>Default: <code>/concourse/{{.Team}}/{{.Pipeline}}/{{.Secret}}</code></p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-ssm-team-secret-template"></a>
    <pre><a href="creds.html#aws-ssm-team-secret-template"><strong>aws-ssm-team-secret-template</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>The base path used when attempting to locate a team-level secret.</p><p>Environment variable <code>CONCOURSE_AWS_SSM_TEAM_SECRET_TEMPLATE</code>.</p><p>Example:</p><p>Default: <code>/concourse/{{.Team}}/{{.Secret}}</code></p>
  </div>
</div><p>For example, to launch the ATC and enable the parameter store, you may configure:</p><div class="highlight"><pre style="">concourse web ... <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --aws-ssm-region us-east-1 <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --aws-ssm-access-key AKIAIOSFODNN7EXAMPLE <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --aws-ssm-secret-key wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

<span style="color:#bdc3c7"># or use env variables
</span><span style="color:#bdc3c7"></span><span style="color:#3498db">AWS_REGION</span>=<span style="color:#e67e22">&#34;us-east-1&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span><span style="color:#3498db">CONCOURSE_AWS_SSM_ACCESS_KEY</span>=<span style="color:#e67e22">&#34;AKIAIOSFODNN7EXAMPLE&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span><span style="color:#3498db">CONCOURSE_AWS_SSM_SECRET_KEY</span>=<span style="color:#e67e22">&#34;wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span>concourse web ...
</pre>
</div><p>A more secure method is to configure an <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html">IAM role</a> for your EC2 ATC instance so that credentials are fetched automatically from the EC2 metadata service.</p>

  
    
  
</div>
    
      <div class="section" id="section_iam-permissions">
  
  <h3 class="section-header"><a name="iam-permissions"></a>IAM Permissions</h3>
  

  <p>The following is an example of an IAM policy that can be used to grant permissions to an IAM user or instance role. Note that the <code>Resource</code> section can contain a wildcard to a parameter or be restricted to an individual parameter.</p><div class="highlight"><pre style="">{
    <span style="color:#9b59b6;font-weight:bold">&#34;Version&#34;</span>: <span style="color:#e67e22">&#34;2012-10-17&#34;</span>,
    <span style="color:#9b59b6;font-weight:bold">&#34;Statement&#34;</span>: [
        {
            <span style="color:#9b59b6;font-weight:bold">&#34;Sid&#34;</span>: <span style="color:#e67e22">&#34;AllowAccessToSsmParameters&#34;</span>,
            <span style="color:#9b59b6;font-weight:bold">&#34;Effect&#34;</span>: <span style="color:#e67e22">&#34;Allow&#34;</span>,
            <span style="color:#9b59b6;font-weight:bold">&#34;Action&#34;</span>: <span style="color:#e67e22">&#34;ssm:GetParameters&#34;</span>,
            <span style="color:#9b59b6;font-weight:bold">&#34;Resource&#34;</span>: [
                <span style="color:#e67e22">&#34;arn:aws:ssm:::parameter/concourse/*&#34;</span>,
                <span style="color:#e67e22">&#34;arn:aws:ssm:::parameter/concourse/TEAM_NAME/*&#34;</span>,
                <span style="color:#e67e22">&#34;arn:aws:ssm:::parameter/concourse/TEAM_NAME/PIPELINE_NAME/*&#34;</span>
            ]
        },
        {
            <span style="color:#9b59b6;font-weight:bold">&#34;Sid&#34;</span>: <span style="color:#e67e22">&#34;AllowAccessToDecryptSsmParameters&#34;</span>,
            <span style="color:#9b59b6;font-weight:bold">&#34;Effect&#34;</span>: <span style="color:#e67e22">&#34;Allow&#34;</span>,
            <span style="color:#9b59b6;font-weight:bold">&#34;Action&#34;</span>: [
                <span style="color:#e67e22">&#34;kms:ListKeys&#34;</span>,
                <span style="color:#e67e22">&#34;kms:ListAliases&#34;</span>,
                <span style="color:#e67e22">&#34;kms:Describe*&#34;</span>,
                <span style="color:#e67e22">&#34;kms:Decrypt&#34;</span>
            ],
            <span style="color:#9b59b6;font-weight:bold">&#34;Resource&#34;</span>: <span style="color:#e67e22">&#34;arn:aws:::key/KMS_KEY_ID&#34;</span>
        }
    ]
}
</pre>
</div><p>Note that the <code>TEAM_NAME</code>, <code>PIPELINE_NAME</code>, and <code>KMS_KEY_ID</code> text above should be replaced to fit your Concourse setup.</p><p>For more information on how to use IAM roles to restrict access to SSM parameters, review the <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-access.html">official documentation</a>.</p>

  
    
  
</div>
    
      <div class="section" id="section_credential-lookup-rules">
  
  <h3 class="section-header"><a name="credential-lookup-rules"></a>Credential Lookup Rules</h3>
  

  <p>When resolving a parameter such as <code>((foo_param))</code>, Concourse will look in the following paths, in order:</p><ul>

  <li><div class="highlight"><pre style="">/concourse/TEAM_NAME/PIPELINE_NAME/foo_param
</pre>
</div></li>

  <li><div class="highlight"><pre style="">/concourse/TEAM_NAME/foo_param
</pre>
</div></li>

</ul><p>The leading <code>/concourse</code> can be changed by specifying <code>--aws-ssm-pipeline-secret-template</code> or <code>--aws-ssm-team-secret-template</code> variables.</p>

  
    
  
</div>
    
  
</div>
    
      <div class="section" id="section_asm">
  
  <h2 class="section-header"><a name="asm"></a>Using Amazon Secrets Manager</h2>
  

  

  
    
      <div class="section" id="section_configuration">
  
  <h3 class="section-header"><a name="configuration"></a>Configuration</h3>
  

  <p>The ATC is configured with an access key and secret key or session token and the AWS region that your parameters are stored within. If no access key, secret key, or session token is provided, Concourse will attempt to use environment variables or the instance credentials assigned to the instance.</p><p>The ATC&#39;s configuration specifies the following:</p><div class="definition">
  <div class="definition-thumb">
    <a name="aws-secretsmanager-access-key"></a>
    <pre><a href="creds.html#aws-secretsmanager-access-key"><strong>aws-secretsmanager-access-key</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>A valid AWS access key.</p><p>Environment variable <code>CONCOURSE_AWS_SECRETSMANAGER_ACCESS_KEY</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-secretsmanager-secret-key"></a>
    <pre><a href="creds.html#aws-secretsmanager-secret-key"><strong>aws-secretsmanager-secret-key</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>The secret key that corresponds to the access key defined above.</p><p>Environment variable <code>CONCOURSE_AWS_SECRETSMANAGER_SECRET_KEY</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-secretsmanager-session-token"></a>
    <pre><a href="creds.html#aws-secretsmanager-session-token"><strong>aws-secretsmanager-session-token</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>A valid AWS session token.</p><p>Environment variable <code>CONCOURSE_AWS_SECRETSMANAGER_SESSION_TOKEN</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-secretsmanager-region"></a>
    <pre><a href="creds.html#aws-secretsmanager-region"><strong>aws-secretsmanager-region</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>The AWS region that requests to Secrets Manager will be sent to.</p><p>Environment variable <code>AWS_REGION</code>.</p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-secretsmanager-pipeline-secret-template"></a>
    <pre><a href="creds.html#aws-secretsmanager-pipeline-secret-template"><strong>aws-secretsmanager-pipeline-secret-template</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>The base path used when attempting to locate a pipeline-level secret.</p><p>Environment variable <code>CONCOURSE_AWS_SECRETSMANAGER_PIPELINE_SECRET_TEMPLATE</code>.</p><p>Example:</p><p>Default: <code>/concourse/{{.Team}}/{{.Pipeline}}/{{.Secret}}</code></p>
  </div>
</div><div class="definition">
  <div class="definition-thumb">
    <a name="aws-secretsmanager-team-secret-template"></a>
    <pre><a href="creds.html#aws-secretsmanager-team-secret-template"><strong>aws-secretsmanager-team-secret-template</strong></a>: string</pre>
  </div>

  <div class="definition-content">
    <p>The base path used when attempting to locate a team-level secret.</p><p>Environment variable <code>CONCOURSE_AWS_SECRETSMANAGER_TEAM_SECRET_TEMPLATE</code>.</p><p>Example:</p><p>Default: <code>/concourse/{{.Team}}/{{.Secret}}</code></p>
  </div>
</div><p>For example, to launch the ATC and enable Secrets Manager, you may configure:</p><div class="highlight"><pre style="">concourse web ... <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --aws-secretsmanager-region us-east-1 <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --aws-secretsmanager-access-key AKIAIOSFODNN7EXAMPLE <span style="color:#3498db">\
</span><span style="color:#3498db"></span>  --aws-secretsmanager-secret-key wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

<span style="color:#bdc3c7"># or use env variables
</span><span style="color:#bdc3c7"></span><span style="color:#3498db">AWS_REGION</span>=<span style="color:#e67e22">&#34;us-east-1&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span><span style="color:#3498db">CONCOURSE_AWS_SECRETSMANAGER_ACCESS_KEY</span>=<span style="color:#e67e22">&#34;AKIAIOSFODNN7EXAMPLE&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span><span style="color:#3498db">CONCOURSE_AWS_SECRETSMANAGER_SECRET_KEY</span>=<span style="color:#e67e22">&#34;wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY&#34;</span> <span style="color:#3498db">\
</span><span style="color:#3498db"></span>concourse web ...
</pre>
</div><p>A more secure method is to configure an <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html">IAM role</a> for your EC2 ATC instance so that credentials are fetched automatically from the EC2 metadata service.</p>

  
    
  
</div>
    
      <div class="section" id="section_iam-permissions">
  
  <h3 class="section-header"><a name="iam-permissions"></a>IAM Permissions</h3>
  

  <p>The following is an example of an IAM policy that can be used to grant permissions to an IAM user or instance role. Note that the <code>Resource</code> section can contain a wildcard to a secret or be restricted to an individual secret.</p><div class="highlight"><pre style="">{
    <span style="color:#9b59b6;font-weight:bold">&#34;Version&#34;</span>: <span style="color:#e67e22">&#34;2012-10-17&#34;</span>,
    <span style="color:#9b59b6;font-weight:bold">&#34;Statement&#34;</span>: [
        {
        <span style="color:#9b59b6;font-weight:bold">&#34;Sid&#34;</span>: <span style="color:#e67e22">&#34;AllowAccessToSecretManagerParameters&#34;</span>,
        <span style="color:#9b59b6;font-weight:bold">&#34;Effect&#34;</span>: <span style="color:#e67e22">&#34;Allow&#34;</span>,
        <span style="color:#9b59b6;font-weight:bold">&#34;Action&#34;</span>: [
            <span style="color:#e67e22">&#34;secretsmanager:ListSecrets&#34;</span>
        ],
          <span style="color:#9b59b6;font-weight:bold">&#34;Resource&#34;</span>: <span style="color:#e67e22">&#34;*&#34;</span>
        },
        {
            <span style="color:#9b59b6;font-weight:bold">&#34;Sid&#34;</span>: <span style="color:#e67e22">&#34;AllowAccessGetSecret&#34;</span>,
            <span style="color:#9b59b6;font-weight:bold">&#34;Effect&#34;</span>: <span style="color:#e67e22">&#34;Allow&#34;</span>,
            <span style="color:#9b59b6;font-weight:bold">&#34;Action&#34;</span>: [
                <span style="color:#e67e22">&#34;secretsmanager:GetSecretValue&#34;</span>,
                <span style="color:#e67e22">&#34;secretsmanager:DescribeSecret&#34;</span>
            ],
            <span style="color:#9b59b6;font-weight:bold">&#34;Resource&#34;</span>: [
                <span style="color:#e67e22">&#34;arn:aws:secretsmanager:::secret:/concourse/*&#34;</span>,
                <span style="color:#e67e22">&#34;arn:aws:secretsmanager:::secret:/concourse/TEAM_NAME/*&#34;</span>,
                <span style="color:#e67e22">&#34;arn:aws:secretsmanager:::secret:/concourse/TEAM_NAME/PIPELINE_NAME/*&#34;</span>
            ]
        }
    ]
}
</pre>
</div><p>Note that the <code>TEAM_NAME</code> and <code>PIPELINE_NAME</code> text above should be replaced to fit your Concourse setup.</p><p>For more information on how to use IAM roles to restrict access to Secrets Manager, review the <a href="https://docs.aws.amazon.com/secretsmanager/latest/userguide/auth-and-access_identity-based-policies.html">official documentation</a>.</p>

  
    
  
</div>
    
      <div class="section" id="section_credential-lookup-rules">
  
  <h3 class="section-header"><a name="credential-lookup-rules"></a>Credential Lookup Rules</h3>
  

  <p>When resolving a parameter such as <code>((foo_param))</code>, Concourse will look in the following paths, in order:</p><ul>

  <li><div class="highlight"><pre style="">/concourse/TEAM_NAME/PIPELINE_NAME/foo_param
</pre>
</div></li>

  <li><div class="highlight"><pre style="">/concourse/TEAM_NAME/foo_param
</pre>
</div></li>

</ul><p>The leading <code>/concourse</code> can be changed by specifying <code>--aws-secretsmanager-pipeline-secret-template</code> or <code>--aws-secretsmanager-team-secret-template</code> variables.</p>

  
    
  
</div>
    
  
</div>
    
  
</div>
      </div>
      
    </div>
  </body>
</html>